---
permalink: admin/configuring-s3-api-endpoint-domain-names.html 
sidebar: sidebar 
keywords: s3 endpoint domain names, virtual-hosted-style requests 
summary: S3仮想ホスト形式の要求をサポートするには、Grid Managerを使用して、S3クライアントの接続先のS3エンドポイントのドメイン名のリストを設定する必要があります。 
---
= S3エンドポイントのドメイン名を設定
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
S3仮想ホスト形式の要求をサポートするには、Grid Managerを使用して、S3クライアントの接続先のS3エンドポイントのドメイン名のリストを設定する必要があります。


CAUTION: エンドポイントドメイン名にIPアドレスを使用することはできません。今後のリリースでは、この設定はできません。

.開始する前に
* Grid Managerにサインインしておきますlink:../admin/web-browser-requirements.html["サポートされている Web ブラウザ"]。
* そうだな link:../admin/admin-group-permissions.html["特定のアクセス権限"]
* グリッドのアップグレードが進行中でないことを確認します。
+

CAUTION: グリッドのアップグレードの実行中は、ドメイン名の設定を変更しないでください。



.タスクの内容
クライアントが S3 エンドポイントのドメイン名を使用できるようにするには、次の作業をすべて実行する必要があります。

* Grid Manager を使用して、 S3 エンドポイントのドメイン名を StorageGRID システムに追加します。
* クライアントが必要とするすべてのドメイン名に対してが署名されていることを確認しますlink:../admin/configuring-administrator-client-certificates.html["クライアントがStorageGRID へのHTTPS接続に使用する証明書"]。
+
たとえば、エンドポイントがの場合は `s3.company.com`、HTTPS接続に使用される証明書にエンドポイントとエンドポイントのワイルドカードSubject Alternative Name（SAN）：が `*.s3.company.com`含まれていることを確認する必要があります `s3.company.com`。

* クライアントが使用する DNS サーバを設定します。クライアントが接続に使用するIPアドレスのDNSレコードを追加し、レコードが必要なすべてのS3エンドポイントのドメイン名（ワイルドカード名を含む）を参照していることを確認します。
+

NOTE: クライアントは、ゲートウェイノード、管理ノード、またはストレージノードの IP アドレスを使用するか、ハイアベイラビリティグループの仮想 IP アドレスに接続することで、 StorageGRID に接続できます。DNS レコードに正しい IP アドレスを追加するためには、クライアントアプリケーションがグリッドに接続する方法を理解しておく必要があります。



グリッドへの HTTPS 接続を使用するクライアント（推奨）では、次のいずれかの証明書を使用できます。

* ロードバランサエンドポイントに接続するクライアントは、そのエンドポイント用のカスタム証明書を使用できます。各ロードバランサエンドポイントは、異なるS3エンドポイントのドメイン名を認識するように設定できます。
* ロードバランサエンドポイントに接続するクライアント、またはストレージノードに直接接続するクライアントは、必要なS3エンドポイントのドメイン名をすべて含めるようにグローバルS3 API証明書をカスタマイズできます。



NOTE: S3エンドポイントのドメイン名を追加せずにリストが空の場合、S3仮想ホスト形式の要求のサポートは無効になります。



== S3エンドポイントのドメイン名を追加します

.手順
. *構成* > *ネットワーク* > *S3 エンドポイント ドメイン名* を選択します。
. ドメイン名を* Domain name 1 *フィールドに入力します。ドメイン名をさらに追加するには、*[別のドメイン名を追加する]*を選択します。
. [ 保存（ Save ） ] を選択します。
. クライアントが使用するサーバ証明書が、必要なS3エンドポイントのドメイン名と一致していることを確認します。
+
** クライアントが独自の証明書を使用するロードバランサエンドポイントに接続する場合は、link:../admin/configuring-load-balancer-endpoints.html["エンドポイントに関連付けられている証明書を更新します"]。
** クライアントがグローバルS3 API証明書を使用するロードバランサエンドポイントに接続するか、またはストレージノードに直接接続する場合は、をlink:../admin/use-s3-setup-wizard-steps.html["グローバルS3 API証明書の更新"]実行します。


. エンドポイントのドメイン名要求を解決するために必要な DNS レコードを追加します。


.結果
これで、クライアントがエンドポイントを使用すると、 `_bucket.s3.company.com_`DNSサーバが正しいエンドポイントに解決され、証明書によってエンドポイントが認証されます。



== S3エンドポイントのドメイン名を変更します

S3アプリケーションで使用されている名前を変更すると、仮想ホスト形式の要求は失敗します。

.手順
. *構成* > *ネットワーク* > *S3 エンドポイント ドメイン名* を選択します。
. 編集するドメイン名フィールドを選択し、必要な変更を行います。
. [ 保存（ Save ） ] を選択します。
. [はい]*を選択して変更を確定します。




== S3エンドポイントのドメイン名を削除します

S3アプリケーションで使用されている名前を削除すると、仮想ホスト形式の要求は失敗します。

.手順
. *構成* > *ネットワーク* > *S3 エンドポイント ドメイン名* を選択します。
. ドメイン名の横にある削除アイコンを選択しimage:../media/icon-x-to-remove.png["削除アイコン"]ます。
. [はい]*を選択して削除を確定します。


.関連情報
* link:../s3/index.html["S3 REST APIを使用する"]
* link:viewing-ip-addresses.html["IP アドレスを表示します"]
* link:configure-high-availability-group.html["ハイアベイラビリティグループを設定する"]

