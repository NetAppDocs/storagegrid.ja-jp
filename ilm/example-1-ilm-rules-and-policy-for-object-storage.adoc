---
permalink: ilm/example-1-ilm-rules-and-policy-for-object-storage.html 
sidebar: sidebar 
keywords: example ILM rule, information lifecycle rule examples 
summary: 以下に記載するサンプルルールとポリシーをベースに、それぞれのオブジェクトの保護および保持要件を満たす ILM ポリシーを定義できます。 
---
= 例 1 ：オブジェクトストレージの ILM ルールとポリシー
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
以下に記載するサンプルルールとポリシーをベースに、それぞれのオブジェクトの保護および保持要件を満たす ILM ポリシーを定義できます。


CAUTION: 以下の ILM ルールとポリシーは一例にすぎません。ILM ルールを設定する方法は多数あります。新しいポリシーをアクティブ化する前に、ポリシーをシミュレートして、コンテンツを損失から保護するために意図したとおりに機能することを確認します。



== 例1のILMルール1：オブジェクトデータを2つのサイトにコピーします

このILMルールの例では、オブジェクトデータを2つのサイトのストレージプールにコピーします。

[cols="1a,2a"]
|===
| ルール定義 | 値の例 


 a| 
1サイトのストレージプール
 a| 
サイト1とサイト2という名前の異なるサイトをそれぞれ含む2つのストレージプール。



 a| 
ルール名
 a| 
2つのサイトをコピーします



 a| 
参照時間
 a| 
取り込み時間



 a| 
配置
 a| 
0日目から無期限に、レプリケートコピーを1つサイト1に、レプリケートコピーを1つサイト2に保持します。

|===
保持図の規則解析セクションには'次のような情報が表示されます

* このルールの期間中は、StorageGRID サイト障害からの保護が適用されます。
* このルールで処理されたオブジェクトはILMで削除されません。


image::../media/ilm_rule_two_copies_two_data_centers.png[例1のILMルール1：オブジェクトデータを2つのサイトにコピーします]



== 例1のILMルール2：イレイジャーコーディングプロファイルとバケットの照合

このILMルールの例では、イレイジャーコーディングプロファイルとS3バケットを使用して、オブジェクトの格納場所と格納期間を決定します。

[cols="1a,2a"]
|===
| ルール定義 | 値の例 


 a| 
複数のサイトで構成されるストレージプール
 a| 
* 3つのサイトにまたがる1つのストレージプール（サイト1、2、3）
* 6+3 イレイジャーコーディングスキームを使用




 a| 
ルール名
 a| 
S3 Bucket finance-recordsの略



 a| 
参照時間
 a| 
取り込み時間



 a| 
配置
 a| 
finance-recordsというS3バケット内のオブジェクトに対して、イレイジャーコーディングコピーをイレイジャーコーディングプロファイルで指定されたプールに1つ作成します。このコピーを無期限に保持します。

|===
image::../media/ilm_rule_ec_for_s3_bucket_finance_records.png[例1のILMルール2：イレイジャーコーディングプロファイルとバケットの照合]



== 例1のILMポリシー

実際には、StorageGRID システムでは高度で複雑なILMポリシーを設計できますが、ほとんどのILMポリシーはシンプルです。

マルチサイトグリッドの一般的なILMポリシーには、次のようなILMルールが含まれます。

* 取り込み時に、という名前のS3バケットに属するすべてのオブジェクトを、3つのサイトを含むストレージプールに格納します `finance-records`。6+3のイレイジャーコーディングを使用します。
* オブジェクトが最初のILMルールに一致しない場合は、ポリシーのデフォルトのILMルール（2つのコピーが2つのデータセンター）を使用して、そのオブジェクトのコピーをサイト1に1つ、サイト2に1つ格納します。
+
image::../media/policy_1_configured_policy.png[例1のILMポリシー]



.関連情報
* link:ilm-policy-overview.html["ILMポリシーを使用する"]
* link:creating-ilm-policy.html["ILMポリシーの作成"]

