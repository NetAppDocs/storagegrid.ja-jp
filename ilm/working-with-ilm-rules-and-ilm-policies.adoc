---
permalink: ilm/working-with-ilm-rules-and-ilm-policies.html 
sidebar: sidebar 
keywords: remove ilm rule, edit ilm rule, clone ilm rule, ilm queue 
summary: ストレージ要件の変化に応じて、別のポリシーを配置したり、ポリシーに関連付けられているILMルールを変更したりしなければならない場合があります。ILM指標を表示してシステムパフォーマンスを判断できます。 
---
= ILMポリシーおよびILMルールを使用する
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ストレージ要件の変化に応じて、追加のポリシーを設定したり、ポリシーに関連付けられているILMルールを変更したりしなければならない場合があります。ILM指標を表示してシステムパフォーマンスを判断できます。

.開始する前に
* Grid Managerにサインインしておきますlink:../admin/web-browser-requirements.html["サポートされている Web ブラウザ"]。
* そうだな link:../admin/admin-group-permissions.html["特定のアクセス権限"]




== ILMポリシーを表示します

アクティブ/非アクティブのILMポリシーとポリシーのアクティブ化履歴を表示するには

. 「 * ILM * > * Policies * 」を選択します。
. アクティブポリシーと非アクティブポリシーのリストを表示するには、*[Policies]*を選択します。テーブルには、各ポリシーの名前、ポリシーが割り当てられているタグ、およびポリシーがアクティブか非アクティブかが表示されます。
. ポリシーのアクティブ化の開始日と終了日のリストを表示するには、[Activation history]*を選択します。
. ポリシー名を選択すると、ポリシーの詳細が表示されます。
+

NOTE: ステータスが[Edited]または[Deleted]のポリシーの詳細を表示すると、指定した期間アクティブで、その後編集または削除されたポリシーのバージョンを表示していることを示すメッセージが表示されます。





== ILMポリシーを編集します。

編集できるのは、非アクティブなポリシーのみです。アクティブポリシーを編集する場合は、アクティブポリシーを非アクティブ化するか、クローンを作成して編集します。

ポリシーを編集するには：

. 「 * ILM * > * Policies * 」を選択します。
. 編集するポリシーのチェックボックスを選択し、*[編集]*を選択します。
. の手順に従って、ポリシーを編集しlink:creating-ilm-policy.html["ILMポリシーの作成"]ます。
. ポリシーを再度アクティブ化する前にシミュレートします。



CAUTION: ILM ポリシーが正しく設定されていないと、リカバリできないデータ損失が発生する可能性があります。ILM ポリシーをアクティブ化する前に、 ILM ポリシーおよびその ILM ルールを慎重に確認し、次に ILM ポリシーをシミュレートします。ILM ポリシーが意図したとおりに機能することを必ず確認してください。



== ILMポリシーのクローニング

ILMポリシーをクローニングするには：

. 「 * ILM * > * Policies * 」を選択します。
. クローニングするポリシーのチェックボックスを選択し、*[クローン]*を選択します。
. の手順に従って、複製したポリシーから新しいポリシーを作成しますlink:creating-ilm-policy.html["ILMポリシーの作成"]。



CAUTION: ILM ポリシーが正しく設定されていないと、リカバリできないデータ損失が発生する可能性があります。ILM ポリシーをアクティブ化する前に、 ILM ポリシーおよびその ILM ルールを慎重に確認し、次に ILM ポリシーをシミュレートします。ILM ポリシーが意図したとおりに機能することを必ず確認してください。



== ILMポリシーを削除します。

削除できるのは、ILMポリシーが非アクティブな場合のみです。ポリシーを削除するには：

. 「 * ILM * > * Policies * 」を選択します。
. 削除する非アクティブポリシーのチェックボックスを選択します。
. 「 * 削除」を選択します。




== ILMルールの詳細を表示します

ILMルールの詳細（保持図やルールの配置手順を含む）を表示するには、次の手順を実行します。

. [* ILM*>* Rules] を選択します。
. 詳細を表示するルールの名前を選択します。例：
+
image::../media/ilm_rule_details_page.png[ILMルールの詳細ページ]



また、詳細ページを使用してルールをクローニング、編集、削除することもできます。ポリシーで使用されているルールを編集または削除することはできません。



== ILM ルールをクローニングします

既存のルールの設定の一部を使用する新しいルールを作成する場合は、既存のルールをクローニングできます。いずれかのポリシーで使用されているルールを編集する必要がある場合は、代わりにルールをクローニングしてクローンに変更を加えます。クローンに変更を加えたら、必要に応じて元のルールをポリシーから削除し、変更後のバージョンで置き換えることができます。


NOTE: バージョン10.2以前のStorageGRID を使用して作成されたILMルールはクローニングできません。

.手順
. [* ILM*>* Rules] を選択します。
. クローニングするルールのチェックボックスを選択し、*[クローニング]*を選択します。または、ルール名を選択し、ルールの詳細ページで*[クローン]*を選択します。
. との手順に従って、クローニングされたルールを更新します<<ILM ルールを編集する,ILMルールの編集>>link:create-ilm-rule-enter-details.html#use-advanced-filters-in-ilm-rules["ILMルールで高度なフィルタを使用する"]。
+
ILM ルールをクローニングする場合は、新しい名前を入力する必要があります。





== ILM ルールを編集する

ILM ルールを編集して、フィルタまたは配置手順を変更しなければならない場合があります。

ILMポリシーで使用されているルールは編集できません。代わりに、クローニングされたコピーに必要な変更を加えることができます<<clone-ilm-rule,ルールのクローンを作成>>。


CAUTION: ILM ポリシーが正しく設定されていないと、リカバリできないデータ損失が発生する可能性があります。ILM ポリシーをアクティブ化する前に、 ILM ポリシーおよびその ILM ルールを慎重に確認し、次に ILM ポリシーをシミュレートします。ILM ポリシーが意図したとおりに機能することを必ず確認してください。

.手順
. [* ILM*>* Rules] を選択します。
. 編集するルールがILMポリシーで使用されていないことを確認します。
. 編集するルールが使用中でない場合は、ルールのチェックボックスをオンにして*[アクション]*>*[編集]*を選択します。または、ルールの名前を選択し、ルールの詳細ページで*[編集]*を選択します。
. ILMルールの編集ウィザードの手順を実行します。必要に応じて、およびの手順を実行しlink:create-ilm-rule-enter-details.html["ILM ルールを作成する"]link:create-ilm-rule-enter-details.html#use-advanced-filters-in-ilm-rules["ILMルールで高度なフィルタを使用する"]ます。
+
ILMルールの編集時に名前を変更することはできません。





== ILMルールを削除します

現在のILMルールのリストを管理しやすくするには、使用しないILMルールをすべて削除します。

.手順
アクティブポリシーで現在使用されているILMルールを削除するには、次の手順を実行します。

. ポリシーのクローンを作成します。
. ポリシークローンからILMルールを削除します。
. 新しいポリシーを保存、シミュレート、およびアクティブ化して、オブジェクトが想定どおりに保護されるようにします。
. アクティブでないポリシーで現在使用されているILMルールを削除する手順に進みます。


アクティブでないポリシーで現在使用されているILMルールを削除するには、次の手順を実行します。

. 非アクティブポリシーを選択します。
. ポリシーまたはからILMルールを削除します<<remove-ilm-policy,ポリシーを削除します。>>。
. 現在使用されていないILMルールを削除する手順に進みます。


現在使用されていないILMルールを削除するには、次の手順を実行します。

. [* ILM*>* Rules] を選択します。
. 削除するルールがどのポリシーでも使用されていないことを確認します。
. 削除するルールが使用中でない場合は、ルールを選択して*[アクション]*>*[削除]*を選択します。複数のルールを選択して、すべてのルールを同時に削除できます。
. [Yes]*を選択して、ILMルールの削除を確定します。




== ILM指標を表示します

キューに登録されているオブジェクトの数や評価速度など、ILMの指標を確認できます。これらの指標を監視して、システムのパフォーマンスを判断できます。キューや評価速度が大きい場合は、システムが取り込み速度に対応できていないか、クライアントアプリケーションからの負荷が過剰であるか、何らかの異常な状態が発生している可能性があります。

.手順
. [ダッシュボード]*>*[ILM]*を選択します。
+

NOTE: ダッシュボードはカスタマイズ可能なため、[ILM]タブが使用できない場合があります。

. [ILM]タブで指標を監視します。
+
疑問符を選択すると、[ILM]タブの項目の説明を確認できますimage:../media/icon_nms_question.png["疑問符アイコン"]。

+
image::../media/ilm_metrics_on_dashboard.png[Grid ManagerのダッシュボードにILM指標が表示される]


