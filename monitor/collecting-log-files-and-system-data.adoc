---
permalink: monitor/collecting-log-files-and-system-data.html 
sidebar: sidebar 
keywords: how to collect system data, how to collect logs 
summary: Grid Manager を使用して、 StorageGRID システムのログファイルとシステムデータ（設定データを含む）を取得できます。 
---
= ログファイルとシステムデータを収集
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Grid Manager を使用して、 StorageGRID システムのログファイルとシステムデータ（設定データを含む）を取得できます。

.開始する前に
* プライマリ管理ノードで、を使用してGrid Managerにサインインする必要がありますlink:../admin/web-browser-requirements.html["サポートされている Web ブラウザ"]。
* そうだな link:../admin/admin-group-permissions.html["特定のアクセス権限"]
* プロビジョニングパスフレーズが必要です。


.タスクの内容
Grid Managerを使用してlink:logs-files-reference.html["ログファイル"]、選択した期間における任意のグリッドノードから、システムデータ、および設定データを収集できます。収集されたデータは .tar.gz ファイルにアーカイブされ、ローカルコンピュータにダウンロードできます。

必要に応じて、監査ログのデスティネーションを変更したり、監査情報を外部 syslog サーバに送信したりできます。外部 syslog サーバが設定されても、監査レコードのローカルログは引き続き生成および格納されます。を参照して link:../monitor/configure-audit-messages.html["監査メッセージとログの送信先を設定します"]

.手順
. [ * support * > * Tools * > * Logs * ] を選択します。
+
image::../media/support_logs_select_nodes.png[ログ収集用の UI のスクリーンショット]

. ログファイルを収集するグリッドノードを選択します。
+
必要に応じて、グリッド全体またはデータセンターサイト全体のログファイルを収集できます。

. ログファイルに含めるデータの時間範囲を設定するには、 * Start Time * および * End Time * を選択します。
+
非常に長い期間を選択したり、大規模なグリッド内のすべてのノードからログを収集したりすると、ログアーカイブが大きくなりすぎてノードに格納できなくなったり、ダウンロード用にプライマリ管理ノードに保存できなくなったりすることがあります。その場合は、より小さなデータセットを使用してログ収集を再開する必要があります。

. 収集するログのタイプを選択します。
+
** * アプリケーションログ * ：テクニカルサポートがトラブルシューティングに最も頻繁に使用するアプリケーション固有のログ。収集されるログは、使用可能なアプリケーションログの一部です。
** * Audit Logs * ：通常のシステム運用中に生成された監査メッセージを含むログ。
** * Network Trace * ：ネットワーク・デバッグに使用するログ。
** * Prometheus Database * ：すべてのノード上のサービスからの時系列の指標。


. 必要に応じて、収集するログファイルに関するメモを * Notes * テキストボックスに入力します。
+
このメモを使用して、ログファイルを収集する原因となった問題に関するテクニカルサポート情報を入力できます。メモは、ログファイルの収集に関するその他の情報とともにというファイルに追加され `info.txt`ます。 `info.txt`ファイルはログファイルのアーカイブパッケージに保存されます。

. StorageGRID システムのプロビジョニングパスフレーズを * プロビジョニングパスフレーズ * テキストボックスに入力します。
. [*Collect Logs*] を選択します。
+
新しい要求を送信すると、以前に収集されたログファイルは削除されます。

+
ログページを使用して、各グリッドノードのログファイル収集の進捗状況を監視できます。

+
ログサイズに関するエラーメッセージが表示された場合は、ログを収集する期間を短縮するか、またはノードの数を減らしてください。

. ログファイルの収集が完了したら、「 * Download * 」を選択します。
+
.tar.gz ファイルには、ログ収集が成功したすべてのグリッドノードのログファイルが含まれています。Combined .tar.gz_file には、グリッドノードごとに 1 つのログファイルアーカイブがあります。



.終了後
必要に応じて、ログファイルのアーカイブパッケージはあとから再度ダウンロードできます。

必要に応じて、 * Delete * を選択してログ・ファイル・アーカイブ・パッケージを削除し、ディスク・スペースを解放できます。ログファイルの現在のアーカイブパッケージは、次回ログファイルを収集すると自動的に削除されます。
