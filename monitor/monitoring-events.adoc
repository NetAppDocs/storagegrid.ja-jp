---
permalink: monitor/monitoring-events.html 
sidebar: sidebar 
keywords: monitor, monitoring events, events, storageGRID events 
summary: グリッドノードによって検出されたイベントを監視できます。これには、 syslog サーバに記録されたイベントを追跡するために作成したカスタムイベントも含まれます。グリッドマネージャに表示される Last Event メッセージには、最新のイベントに関する詳細が表示されます。 
---
= イベントを監視する
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
グリッドノードによって検出されたイベントを監視できます。これには、 syslog サーバに記録されたイベントを追跡するために作成したカスタムイベントも含まれます。グリッドマネージャに表示される Last Event メッセージには、最新のイベントに関する詳細が表示されます。

イベントメッセージはログファイルにも記録され `/var/local/log/bycast-err.log`ます。を参照してくださいlink:logs-files-reference.html["ログファイル参照"]。

SMTT （ Total events ）アラームは、ネットワークの問題、電源の停止、アップグレードなどの問題によって繰り返しトリガーされることがあります。ここでは、これらのアラームが発生した理由をよりよく理解できるように、イベントを調査する方法について説明します。既知の問題 が原因でイベントが発生した場合、イベントカウンタをリセットしても安全です。

.手順
. 各グリッドノードのシステムイベントを確認します。
+
.. サポート * > * ツール * > * グリッドトポロジ * を選択します。
.. [*_site *>] > [*_grid node_*>] > * ssm * > * Events * > * Overview * > * Main * の順に選択します。


. 以前のイベントメッセージのリストを生成して、過去に発生した問題を特定します。
+
.. サポート * > * ツール * > * グリッドトポロジ * を選択します。
.. [*_site *>] > [*_grid node_*] > * ssm * > * Events * > * Reports * ] を選択します。
.. 「 * テキスト * 」を選択します。
+
には* Last Event *属性は表示されませんlink:using-charts-and-reports.html["グラフビュー"]。表示するには：

.. 属性 * を * 最後のイベント * に変更します。
.. 必要に応じて、 * クイッククエリ * の期間を選択します。
.. 「 * Update * 」を選択します。
+
image::../media/events_report.gif[［ イベント ］ ページ]







== カスタム syslog イベントを作成する

カスタムイベントでは、カーネル、デーモン、エラーとクリティカルのレベルのユーザイベントなど、 syslog サーバに記録されるすべてのイベントを追跡できます。カスタムイベントは、システムログメッセージ（ネットワークセキュリティイベントやハードウェア障害）の発生を監視するのに役立ちます。

.タスクの内容
繰り返し発生する問題については、カスタムイベントの作成を検討してください。カスタムイベントを使用する際は、次の点を考慮する必要があり

* カスタムイベントが作成されると、該当するイベントが発生するたびに監視されます。
* ファイル内のキーワードに基づいてカスタムイベントを作成するには `/var/local/log/messages`、これらのファイル内のログを次のようにする必要があります。
+
** カーネルによって生成されます
** デーモンまたはユーザプログラムによってエラーまたはクリティカルのレベルで生成されます




*注:*上記の要件を満たしていない場合、ファイル内のすべてのエントリが照合されるわけではありません `/var/local/log/messages`。

.手順
. *support*>* Alarms （レガシー） *>* Custom events * を選択します。
. [編集]*をクリックします（これが最初のイベントでない場合は*[挿入]*をimage:../media/icon_nms_insert.gif["プラスアイコン"]クリックしますimage:../media/icon_nms_edit.gif["鉛筆のアイコン"]）。
. shutdown などのカスタムイベント文字列を入力します
+
image::../media/custom_events.png[カスタムイベントの文字列の入力場所を示すスクリーンショット]

. 「 * 変更を適用する * 」を選択します。
. サポート * > * ツール * > * グリッドトポロジ * を選択します。
. *_grid node_*>* ssm*>* Events * を選択します。
. Events テーブルで Custom Events のエントリを探し、 * Count * の値を監視します。
+
カウントが増えていれば、そのグリッドノードで監視しているカスタムイベントがトリガーされています。

+
image::../media/custom_events_count.png[SSM のイベントの概要ページを参照してください]





== カスタムイベントのカウントを 0 にリセットします

カスタムイベントのカウンタのみをリセットする場合は、のサポートメニューのグリッドトポロジページを使用する必要があります。

カウンタをリセットすると、次のイベントによってアラームがトリガーされます。一方、アラームを確認した場合は、次のしきい値レベルに達したときにのみアラームが再度トリガーされます。

.手順
. サポート * > * ツール * > * グリッドトポロジ * を選択します。
. * _grid node_* > * ssm * > * Events * > * Configuration * > * Main * を選択します。
. [Custom Events]の[Reset]*チェックボックスをオンにします。
+
image::../media/custom_events_reset.gif[SSM のスクリーンショット > Events > Configuration > Main]

. 「 * 変更を適用する * 」を選択します。

