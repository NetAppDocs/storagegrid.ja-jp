---
permalink: tenant/deleting-s3-bucket-objects.html 
sidebar: sidebar 
keywords: how to delete bucket objects, empty bucket 
summary: Tenant Managerを使用して、1つ以上のバケット内のオブジェクトを削除できます。 
---
= バケット内のオブジェクトを削除する
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
Tenant Managerを使用して、1つ以上のバケット内のオブジェクトを削除できます。

.考慮事項と要件
これらの手順を実行する前に、次の点に注意してください。

* バケット内のオブジェクトを削除すると、StorageGRID はStorageGRID システム内のすべてのノードとサイトから、選択した各バケット内のすべてのオブジェクトとすべてのオブジェクトバージョンを完全に削除します。StorageGRID は、関連するオブジェクトメタデータも削除します。この情報を回復することはできません。
* オブジェクト、オブジェクトコピー、および同時処理の数によっては、バケット内のすべてのオブジェクトの削除に数分、数日、場合によっては数週間かかることがあります。
* バケットにが含まれている場合はlink:using-s3-object-lock.html["S3オブジェクトロックが有効になりました"]、_years_の場合、バケットは* Deleting objects：read-only *の状態のままになることがあります。
+

TIP: S3オブジェクトロックを使用するバケットは、すべてのオブジェクトの保持期限に達してリーガルホールドが解除されるまで、* Deleting objects：read-only *状態のままです。

* オブジェクトの削除中、バケットの状態は* Deleting objects：read-only *です。この状態の場合、バケットに新しいオブジェクトを追加することはできません。
* すべてのオブジェクトが削除されると、バケットは読み取り専用状態のままになります。次のいずれかを実行できます。
+
** バケットを書き込みモードに戻し、新しいオブジェクトに再利用します
** バケットを削除します
** バケット名はあとで使用できるように、読み取り専用モードのままにしておきます


* バケットでオブジェクトのバージョン管理が有効になっている場合は、StorageGRID 11.8以降で作成された削除マーカーを削除するには、[Delete objects in bucket]処理を使用します。
* バケットでオブジェクトのバージョン管理が有効になっている場合、StorageGRID 11.7以前で作成された削除マーカーは削除されません。のバケット内のオブジェクトの削除に関する情報を参照してくださいlink:../ilm/how-objects-are-deleted.html#delete-s3-versioned-objects["S3 バージョン管理オブジェクトの削除方法"]。
* を使用する場合はlink:grid-federation-manage-cross-grid-replication.html["グリッド間レプリケーション"]、次の点に注意してください。
+
** このオプションを使用しても、他のグリッドのバケットからオブジェクトは削除されません。
** ソースバケットに対してこのオプションを選択すると、もう一方のグリッドのデスティネーションバケットにオブジェクトを追加すると* Cross-grid replication failure *アラートがトリガーされます。保証できない場合は、すべてのバケットオブジェクトが削除される前に、他のグリッドのバケットにオブジェクトが追加されないようにlink:../tenant/grid-federation-manage-cross-grid-replication.html["グリッド間レプリケーションを無効にします"]してください。




.開始する前に
* を使用してTenant Managerにサインインしておきlink:../admin/web-browser-requirements.html["サポートされている Web ブラウザ"]ます。
* が設定されたユーザグループに属しているlink:tenant-management-permissions.html["rootアクセス権限"]必要があります。この権限は、グループポリシーまたはバケットポリシーの権限設定よりも優先されます。


.手順
. ダッシュボードで* View Buckets *を選択するか、* storage（S3）*>* Buckets *を選択します。
+
バケットページが表示され、既存の S3 バケットがすべて表示されます。

. 特定のバケットの*[Actions]*メニューまたは詳細ページを使用します。
+
[role="tabbed-block"]
====
.[Actions]メニュー
--
.. オブジェクトを削除する各バケットのチェックボックスを選択します。
.. [Actions]*>*[Delete objects in bucket]*を選択します。


--
.詳細ページ
--
.. 詳細を表示するバケット名を選択します。
.. [Delete objects in bucket]*を選択します。


--
====
. 確認ダイアログボックスが表示されたら、詳細を確認し、* Yes *と入力して* OK *を選択します。
. 削除処理が開始されるまで待ちます。
+
数分後：

+
** バケットの詳細ページに黄色のステータスバナーが表示されます。進行状況バーは、削除されたオブジェクトの割合を表します。
** 「*（読み取り専用）*」は、バケットの詳細ページでバケット名のあとに表示されます。
** [Buckets]ページでバケット名の横に「*（Deleting objects：read-only）*」と表示されます。


+
image::../media/delete-bucket-objects-in-progress.png[削除されるバケットオブジェクトを示すスクリーンショット]

. 処理の実行中に必要に応じて、*[オブジェクトの削除の停止]*を選択してプロセスを停止します。次に、必要に応じて*[Delete objects in bucket]*を選択してプロセスを再開します。
+
[Stop deleting objects]*を選択すると、バケットは書き込みモードに戻りますが、削除されたオブジェクトにアクセスしたりリストアしたりすることはできません。

. 処理が完了するまで待ちます。
+
バケットが空の場合、ステータスバナーは更新されますが、バケットは読み取り専用のままです。

+
image::../media/delete-bucket-objects-complete.png[すべてのバケットオブジェクトが削除されたことを示すスクリーンショット]

. 次のいずれかを実行します。
+
** ページを終了して、バケットを読み取り専用モードのままにします。たとえば、空のバケットを読み取り専用モードのままにしておくと、あとで使用できるようにバケット名を予約できます。
** バケットを削除します。1つのバケットを削除する場合は、*[Delete bucket]*を選択します。複数のバケットを削除する場合は、[Buckets]ページに戻って*[Actions]*>*[Delete * Buckets]を選択します。
+

NOTE: すべてのオブジェクトの削除後にバージョン管理されたバケットを削除できない場合は、削除マーカーが残っていることがあります。バケットを削除するには、残りのすべての削除マーカーを削除する必要があります。

** バケットを書き込みモードに戻し、必要に応じて新しいオブジェクト用に再利用します。1つのバケットに対して[Stop deleting objects]*を選択するか、[Buckets]ページに戻って、複数のバケットに対して[Action]*>*[Stop deleting objects]*を選択します。



