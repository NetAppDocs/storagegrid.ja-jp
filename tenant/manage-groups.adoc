---
permalink: tenant/manage-groups.html 
sidebar: sidebar 
keywords: how to view and edit tenant groups, manage groups, duplicate group, remove group, edit group 
summary: 必要に応じてテナントグループを管理し、グループの表示、編集、複製などを行います。 
---
= グループの管理
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
必要に応じてテナントグループを管理し、グループの表示、編集、複製などを行います。

.開始する前に
* を使用してTenant Managerにサインインしておきlink:../admin/web-browser-requirements.html["サポートされている Web ブラウザ"]ます。
* が設定されたユーザグループに属しているlink:tenant-management-permissions.html["rootアクセス権限"]必要があります。




== グループを表示または編集します

各グループの基本情報と詳細を表示および編集できます。

.手順
. *アクセス管理* > *グループ*を選択します。
. [Groups]ページに表示される情報を確認します。このテナントアカウントのすべてのローカルグループとフェデレーテッドグループの基本情報が表示されます。
+
テナントアカウントに* Use grid federation connection *権限があり、テナントのソースグリッド上のグループを表示している場合：

+
** バナーメッセージは、グループを編集または削除すると、変更内容が他のグリッドに同期されないことを示します。
** 必要に応じて、デスティネーショングリッドでグループがテナントにクローニングされなかったかどうかを示すバナーメッセージが表示されます。あなたは失敗したことができます<<clone-groups,グループクローンの再試行>>。


. グループの名前を変更する場合は、次の手順を実行します。
+
.. グループのチェックボックスをオンにします。
.. [ * アクション * > * グループ名の編集 * ] を選択します。
.. 新しい名前を入力します。
.. [変更を保存]*を選択します


. 詳細を表示したり、追加の編集を行う場合は、次のいずれかを実行します。
+
** グループ名を選択します。
** グループのチェックボックスを選択し、*[操作]*>*[グループの詳細を表示]*を選択します。


. [Overview]セクションには、グループごとに次の情報が表示されます。
+
** 表示名
** 一意の名前
** タイプ
** アクセスモード
** 権限
** S3ポリシー
** このグループのユーザ数
** テナントアカウントに* Use grid federation connection *権限があり、テナントのソースグリッドでグループを表示している場合は、次のフィールドが追加されます。
+
*** クローニングステータス（* Success *または* Failure *）
*** このグループを編集または削除すると、変更内容が他のグリッドに同期されないことを示す青のバナーが表示されます。




. 必要に応じてグループ設定を編集します。参照link:creating-groups-for-s3-tenant.html["S3 テナント用のグループを作成します"]入力内容の詳細については、こちらをご覧ください。
+
.. [Overview]セクションで、名前または編集アイコンを選択して表示名を変更しimage:../media/icon_edit_tm.png["編集アイコン"]ます。
.. [グループ権限]タブで権限を更新し、*[変更の保存]*を選択します。
.. [グループポリシー]*タブで、変更を加えて*[変更の保存]*を選択します。
+
必要に応じて、別の S3 グループポリシーを選択するか、カスタムポリシーの JSON 文字列を入力します。



. 既存のローカルユーザをグループに追加するには、次の手順を実行します。
+
.. [Users]タブを選択します。
+
image::../media/manage_users.png[ユーザの管理]

.. [ユーザの追加]*を選択します。
.. 追加する既存のユーザーを選択し、*ユーザーの追加*を選択します。
+
右上に成功メッセージが表示されます。



. グループからローカルユーザを削除するには、次の手順を実行します
+
.. [Users]タブを選択します。
.. [ユーザの削除]*を選択します。
.. 削除するユーザを選択し、*[ユーザの削除]*を選択します。
+
右上に成功メッセージが表示されます。



. 変更した各セクションで[変更を保存]*が選択されていることを確認します。




== グループが重複しています

既存のグループを複製して、新しいグループをより迅速に作成できます。


NOTE: テナントアカウントに* Use grid federation connection *権限があり、テナントのソースグリッドからグループを複製すると、複製されたグループがテナントのデスティネーショングリッドにクローニングされます。

.手順
. *アクセス管理* > *グループ*を選択します。
. 複製するグループのチェックボックスをオンにします。
. [ * アクション * > * グループの複製 * ] を選択します。
. 見るlink:creating-groups-for-s3-tenant.html["S3 テナント用のグループを作成します"]入力内容の詳細については、こちらをご覧ください。
. 「 * グループを作成 * 」を選択します。




== [[clone-groups]]グループクローンの再試行

失敗したクローンを再試行するには：

. グループ名の下に_（Cloning failed）_と表示されている各グループを選択します。
. [操作]*>*[クローングループ]*を選択します。
. クローニングする各グループの詳細ページで、クローニング処理のステータスを確認します。


詳細については、link:grid-federation-account-clone.html["テナントグループとテナントユーザのクローンを作成します"]を参照してください。



== 1つ以上のグループを削除します

1つ以上のグループを削除できます。削除したグループにのみ属しているユーザは、Tenant Managerにサインインしたりテナントアカウントを使用したりできなくなります。


NOTE: テナントアカウントに* Use grid federation connection *権限が割り当てられている場合にグループを削除すると、StorageGRID はもう一方のグリッド上の対応するグループを削除しません。この情報を同期する必要がある場合は、両方のグリッドから同じグループを削除する必要があります。

.手順
. *アクセス管理* > *グループ*を選択します。
. 削除する各グループのチェックボックスをオンにします。
. [アクション]*>*[グループの削除]*または*[アクション]*>*[グループの削除]*を選択します。
+
確認のダイアログボックスが表示されます。

. [グループの削除]*または*[グループの削除]*を選択します。




== AssumeRoleを設定する

.開始する前に
AssumeRole を設定するには管理者である必要があります。

.タスクの内容
AssumeRole を設定するには、グループがまだ存在しない場合は、想定されるターゲット グループを作成します。グループの S3 ポリシーを編集して、このグループを引き受ける場合に許可されるアクションを指定します。グループの S3 信頼ポリシーを編集して、AssumeRole API を使用してグループを引き継ぐことができる信頼できるユーザーを指定します。

このグループを想定して作成された一時的なセキュリティ資格情報は、限られた期間のみ有効です。セッションは 15 分から 12 時間までで、デフォルトのセッションは 1 時間です。グループの S3 信頼ポリシーからユーザーを削除すると、ユーザーはこのグループを引き受けることができなくなります。

.手順
. *アクセス管理* > *グループ*を選択します。
. グループ名をクリックします。
. *S3 信頼ポリシー* タブを選択します。
. AssumeRole を実行できるユーザーのリストを含む S3 信頼ポリシーを追加します。
. 「変更を保存」を選択します。
. *S3 グループポリシー* タブを選択します。
. S3 ポリシーを編集して、このグループの S3 信頼ポリシーに追加された信頼できるユーザーに必要な S3 アクションのみを指定します。
. 「変更を保存」を選択します。




=== AssumeRole S3信頼ポリシーの例

[listing]
----
{
    "Statement": [
        {
            "Effect": "Allow",
            "Action": "sts:AssumeRole",
            "Principal": {
                "AWS": [
                    "urn:sgws:identity::1234567890:user/user1",
                    "arn:aws:iam::1234567890:user/user2"
                ]
            }
        }
    ]
}
----
設定が完了すると、S3 信頼ポリシーにリストされているユーザーは AssumeRole を実行し、資格情報を受け取ることができます。最終的な権限は、グループ ポリシー、バケット ポリシー、およびセッション ポリシーによって決定されます。詳細については、 link:../s3/use-access-policies.html["アクセスポリシーを使用する"] 。
