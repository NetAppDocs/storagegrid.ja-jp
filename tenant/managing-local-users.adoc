---
permalink: tenant/managing-local-users.html 
sidebar: sidebar 
keywords: how to create local tenant users, manage users 
summary: ローカルユーザを作成してローカルグループに割り当て、ユーザがアクセスできる機能を決定することができます。Tenant Managerには、「root」という名前の事前定義されたローカルユーザが1人含まれています。ローカルユーザは追加および削除できますが、rootユーザを削除することはできません。 
---
= ローカルユーザを管理します
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ローカルユーザを作成してローカルグループに割り当て、ユーザがアクセスできる機能を決定することができます。Tenant Managerには、「root」という名前の事前定義されたローカルユーザが1人含まれています。ローカルユーザは追加および削除できますが、rootユーザは削除できません。


NOTE: StorageGRID システムでシングルサインオン（SSO）が有効になっている場合、ローカルユーザはクライアントアプリケーションを使用してグループ権限に基づいてテナントのリソースにアクセスできますが、Tenant Managerまたはテナント管理APIにサインインすることはできません。

.開始する前に
* を使用してTenant Managerにサインインしておきlink:../admin/web-browser-requirements.html["サポートされている Web ブラウザ"]ます。
* が設定されたユーザグループに属しているlink:tenant-management-permissions.html["rootアクセス権限"]必要があります。
* テナントアカウントに* Use grid federation connection *権限が割り当てられている場合は、のワークフローと考慮事項を確認しlink:grid-federation-account-clone.html["テナントグループおよびテナントユーザのクローニング"]、テナントのソースグリッドにサインインしておきます。




== [[create-user]]ローカルユーザを作成します

ローカルユーザを作成して1つ以上のローカルグループに割り当て、ユーザのアクセス権限を制御することができます。

どのグループにも属していないS3ユーザには、管理権限やS3グループポリシーが適用されていません。これらのユーザは、バケットポリシーを通じて S3 バケットアクセスを許可されている場合があります。

いずれのグループにも属していないSwiftユーザには、管理権限やSwiftコンテナへのアクセス権がありません。



=== Create userウィザードにアクセスします

.手順
. アクセス管理 * > * Users * を選択します。
+
テナントアカウントで* Use grid federation connection *権限が割り当てられている場合は、青のバナーがテナントのソースグリッドであることを示します。このグリッドに作成したローカルユーザは、接続内の他のグリッドにクローニングされます。

+
image::../media/grid-federation-tenant-user-banner.png[テナントソースグリッドの場合、ユーザページに表示される青いバナーの画像]

. 「 * ユーザーの作成 * 」を選択します。




=== 資格情報を入力します

.手順
. [ユーザクレデンシャルの入力]*ステップで、次のフィールドに値を入力します。
+
[cols="1a,3a"]
|===
| フィールド | 製品説明 


 a| 
フルネーム
 a| 
このユーザーのフルネーム（ユーザーの名と姓、アプリケーションの名前など）。



 a| 
ユーザ名
 a| 
このユーザがサインインに使用する名前。ユーザ名は一意である必要があり、変更することはできません。

*注*：テナントアカウントに* Use grid federation connection *権限が設定されている場合、デスティネーショングリッドにテナントに同じ* Username *がすでに存在すると、クローニングエラーが発生します。



 a| 
[Password]および[Confirm password]
 a| 
ユーザがサインイン時に最初に使用するパスワード。



 a| 
アクセスを拒否します
 a| 
このユーザが1つ以上のグループに属している場合でもテナントアカウントにサインインできないようにするには、*[はい]*を選択します。

たとえば、*[はい]*を選択すると、ユーザーのサインイン機能が一時的に中断されます。

|===
. 「 * Continue * 」を選択します。




=== グループに割り当てます

.手順
. ユーザを1つ以上のローカルグループに割り当てて、実行できるタスクを決定します。
+
グループへのユーザの割り当ては任意です。必要に応じて、グループを作成または編集するときにユーザーを選択できます。

+
どのグループにも属していないユーザには、管理権限はありません。アクセス許可は累積的に追加されユーザには、自身が属しているすべてのグループに対するすべての権限が与えられます。を参照して link:tenant-management-permissions.html["テナント管理権限"]

. 「 * ユーザーの作成 * 」を選択します。
+
テナントアカウントに* Use grid federation connection *権限があり、テナントのソースグリッドにアクセスしている場合は、新しいローカルユーザがテナントのデスティネーショングリッドにクローニングされます。* Success *は、ユーザーの詳細ページのOverviewセクションに* Cloning status *として表示されます。

. [完了]*を選択して[ユーザー]ページに戻ります。




== ローカルユーザを表示または編集します

.手順
. アクセス管理 * > * Users * を選択します。
. [Users]ページに表示される情報を確認します。このテナントアカウントのすべてのローカルユーザとフェデレーテッドユーザの基本情報が表示されます。
+
テナントアカウントに* Use grid federation connection *権限があり、テナントのソースグリッドでユーザを表示している場合は、次の手順を実行します。

+
** バナーメッセージは、ユーザを編集または削除すると、変更内容が他のグリッドに同期されないことを示します。
** 必要に応じて、ユーザがデスティネーショングリッドのテナントにクローニングされていないかどうかを示すバナーメッセージが表示されます。できます<<clone-users,失敗したユーザクローンを再試行します。>>。


. ユーザのフルネームを変更する場合は、次の手順を実行します。
+
.. ユーザのチェックボックスを選択します。
.. * アクション * > * フルネームの編集 * を選択します。
.. 新しい名前を入力します。
.. [変更を保存]*を選択します


. 詳細を表示したり、追加の編集を行う場合は、次のいずれかを実行します。
+
** ユーザ名を選択します。
** ユーザのチェックボックスを選択し、*[操作]*>*[ユーザの詳細を表示]*を選択します。


. [Overview]セクションには、ユーザごとに次の情報が表示されます。
+
** フルネーム
** ユーザ名
** ユーザタイプ
** アクセスを拒否しました
** アクセスモード
** グループメンバーシップ
** テナントアカウントに* Use grid federation connection *権限があり、テナントのソースグリッドでユーザを表示している場合は、次のフィールドが追加されます。
+
*** クローニングステータス（* Success *または* Failure *）
*** このユーザを編集すると、変更内容が他のグリッドに同期されないことを示す青いバナーが表示されます。




. 必要に応じてユーザー設定を編集します。入力する項目の詳細については、を参照してください<<create-user,ローカルユーザを作成します>>。
+
.. [Overview]セクションで、名前または編集アイコンを選択してフルネームを変更しimage:../media/icon_edit_tm.png["編集アイコン"]ます。
+
ユーザー名は変更できません。

.. [パスワード]*タブで、ユーザのパスワードを変更し、*[変更を保存]*を選択します。
.. [アクセス]タブで、*[いいえ]を選択してユーザーがサインインできるようにするか、*[はい]を選択してユーザーがサインインできないようにします。次に、*[変更の保存]*を選択します。
.. [アクセスキー]タブで、*[キーの作成]*を選択し、の手順に従いますlink:creating-another-users-s3-access-keys.html["別のユーザのS3アクセスキーを作成しています"]。
.. [グループ]*タブで*[グループの編集]*を選択して、ユーザーをグループに追加するか、ユーザーをグループから削除します。次に、*変更を保存*を選択します。


. 変更した各セクションで[変更を保存]*が選択されていることを確認します。




== フェデレーテッドユーザのインポート

[Users]ページには、1人以上のフェデレーテッドユーザ（最大100ユーザ）を直接インポートできます。

.手順
. アクセス管理 * > * Users * を選択します。
. [フェデレーテッドユーザをインポート]*を選択します。
. 1つ以上のフェデレーテッドユーザのUUIDまたはユーザ名を入力します。
+
複数のエントリの場合は、それぞれのUUIDまたはユーザ名を新しい行に追加します。

. [インポート]*を選択します。
+
1人または複数のユーザーの[ユーザーへのインポート]フィールドが失敗した場合は、次の手順を実行します。

+
.. [ユーザのコピー]*を選択します。
.. [前へ]*を選択し、コピーしたユーザを*[フェデレーテッドユーザのインポート]*ダイアログボックスに貼り付けて、インポートを再試行します。


+
[フェデレーテッドユーザのインポート]ダイアログボックスを閉じると、インポートに成功したユーザの[ユーザ]ページにフェデレーテッドユーザの情報が表示されます。





== ローカルユーザが重複しています

ローカルユーザを複製して新しいユーザを迅速に作成することができます。


NOTE: テナントアカウントに* Use grid federation connection *権限があり、テナントのソースグリッドからユーザを複製すると、複製されたユーザはテナントのデスティネーショングリッドにクローニングされます。

.手順
. アクセス管理 * > * Users * を選択します。
. 複製するユーザのチェックボックスをオンにします。
. * アクション * > * ユーザーの複製 * を選択します。
. 入力する項目の詳細については、を参照してください<<create-user,ローカルユーザを作成します>>。
. 「 * ユーザーの作成 * 」を選択します。




== [[clone-users]]ユーザクローンの再試行

失敗したクローンを再試行するには：

. ユーザ名の下に_（Cloning failed）_と表示されている各ユーザを選択します。
. [操作]*>*[ユーザのクローン]*を選択します。
. クローニングする各ユーザの詳細ページで、クローニング処理のステータスを確認します。


詳細については、link:grid-federation-account-clone.html["テナントグループとテナントユーザのクローンを作成します"]を参照してください。



== 1人以上のローカルユーザを削除します

StorageGRID テナントアカウントにアクセスする必要がなくなった1人以上のローカルユーザを完全に削除できます。


NOTE: テナントアカウントに* Use grid federation connection *権限が割り当てられている場合にローカルユーザを削除すると、StorageGRID はもう一方のグリッド上の対応するユーザを削除しません。この情報を同期する必要がある場合は、両方のグリッドから同じユーザーを削除する必要があります。


NOTE: フェデレーテッドユーザを削除するには、フェデレーテッドアイデンティティソースを使用する必要があります。

.手順
. アクセス管理 * > * Users * を選択します。
. 削除する各ユーザのチェックボックスをオンにします。
. [操作]*>*[ユーザーの削除]*または*[操作]*>*[ユーザーの削除]*を選択します。
+
確認のダイアログボックスが表示されます。

. [ユーザの削除]*または*[ユーザの削除]*を選択します。

