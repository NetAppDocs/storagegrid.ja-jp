---
permalink: vmware/storage-and-performance-requirements.html 
sidebar: sidebar 
keywords: storage requirements, performance requirements, netapp ontap, fabricpool 
summary: 初期設定と将来のストレージ拡張に対応するための十分なスペースを確保できるよう、仮想マシンでホストされている StorageGRID ノードのストレージ要件とパフォーマンス要件を把握しておく必要があります。 
---
= ストレージとパフォーマンスの要件
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
初期設定と将来のストレージ拡張に対応するための十分なスペースを確保できるよう、仮想マシンでホストされている StorageGRID ノードのストレージ要件とパフォーマンス要件を把握しておく必要があります。



== パフォーマンス要件

OS ボリュームおよび最初のストレージボリュームのパフォーマンスは、システム全体のパフォーマンスに大きく影響します。これらのボリュームのディスクパフォーマンスが、レイテンシ、 1 秒あたりの入出力操作（ IOPS ）、スループットの点で適切であることを確認してください。

すべての StorageGRID ノードで、 OS ドライブとすべてのストレージボリュームのライトバックキャッシュを有効にする必要があります。キャッシュは、保護されたメディアまたは永続的なメディアに配置する必要があります。



== NetApp ONTAPストレージを使用する仮想マシンの要件

NetApp ONTAP システムからストレージが割り当てられた仮想マシンとしてStorageGRID ノードを導入する場合は、ボリュームでFabricPool 階層化ポリシーが有効になっていないことを確認しておきます。たとえば、StorageGRIDノードがVMwareホストで仮想マシンとして実行されている場合は、そのノードのデータストアを作成するボリュームでFabricPool階層化ポリシーが有効になっていないことを確認してください。StorageGRIDノードで使用するボリュームでFabricPool階層化を無効にすると、トラブルシューティングとストレージの処理が簡単になります。


NOTE: FabricPoolを使用して、StorageGRIDに関連するデータをStorageGRID自体に階層化しないでください。StorageGRIDデータをStorageGRIDに階層化すると、トラブルシューティングや運用が複雑になります。



== 必要な仮想マシンの数

各 StorageGRID サイトに、少なくとも 3 つのストレージノードが必要です。



== ノードタイプ別のストレージ要件

本番環境では、StorageGRIDノードの仮想マシンが、ノードのタイプに応じてさまざまな要件を満たしている必要があります。


NOTE: ディスクSnapshotを使用してグリッドノードをリストアすることはできません。代わりに、各タイプのノードの手順を参照してlink:../maintain/warnings-and-considerations-for-grid-node-recovery.html["グリッドノードのリカバリ"]ください。

[cols="1a,2a"]
|===
| ノードタイプ | ストレージ 


 a| 
管理ノード
 a| 
OS 用に 100GB の LUN

管理ノードのテーブル用に 200GB の LUN

管理ノードの監査ログ用に 200GB の LUN



 a| 
ストレージノード
 a| 
OS 用に 100GB の LUN

このホストのストレージノードごとに 3 個の LUN

* 注 * ： 1 個のストレージノードには 1~16 個のストレージ LUN を設定できます。 3 個以上のストレージ LUN を推奨します。

LUN あたりの最小サイズ： 4TB

検証済みの最大 LUN サイズ： 39TB 。



 a| 
ストレージノード（メタデータのみ）
 a| 
OS 用に 100GB の LUN

1 LUN

LUN あたりの最小サイズ： 4TB

*注*：単一LUNには最大サイズはありません。余剰容量は、あとで使用できるように保存されます。

*注*：メタデータのみのストレージノードに必要なrangedbは1つだけです。



 a| 
ゲートウェイノード
 a| 
OS 用に 100GB の LUN

|===

NOTE: 設定されている監査レベルに応じて、S3オブジェクトキー名、 また、保持する必要がある監査ログデータの量については、各管理ノードで監査ログLUNのサイズを拡張する必要があります。一般に、グリッドではS3処理ごとに約1KBの監査データが生成され、 つまり、200 GBのLUNでは、1日あたり7、000万件の処理、または2～3日間は1秒あたり800件の処理がサポートされます。



== ストレージノードのストレージ要件

ソフトウェアベースのストレージノードのストレージボリューム数は 1~16 個までにすることを推奨します。 -3 個以上のストレージボリュームを使用することを推奨します。各ストレージボリュームのサイズは 4TB 以上にします。


NOTE: アプライアンスストレージノードには、最大 48 個のストレージボリュームを設定できます。

図に示すように、 StorageGRID は各ストレージノードのストレージボリューム 0 にオブジェクトメタデータ用のスペースをリザーブします。ストレージボリューム 0 の残りのスペースとストレージノード内のその他のストレージボリュームは、オブジェクトデータ専用に使用されます。

image::../media/metadata_space_storage_node.png[Metadata Space ストレージノード]

冗長性を確保し、オブジェクトメタデータを損失から保護するために、 StorageGRID は各サイトのシステム内のすべてのオブジェクトにメタデータのコピーを 3 つずつ格納します。オブジェクトメタデータの 3 つのコピーが各サイトのすべてのストレージノードに均等に分散されます。

メタデータのみのストレージノードを含むグリッドをインストールする場合は、グリッドにオブジェクトストレージ用のノードの最小数も含まれている必要があります。メタデータ専用ストレージノードの詳細については、を参照してくださいlink:../primer/what-storage-node-is.html#types-of-storage-nodes["ストレージノードのタイプ"]。

* 単一サイトのグリッドの場合は、オブジェクトとメタデータ用に少なくとも2つのストレージノードが設定されます。
* マルチサイトグリッドの場合は、サイトごとに少なくとも1つのストレージノードがオブジェクトとメタデータ用に設定されます。


新しいストレージノードのボリューム 0 にスペースを割り当てる場合は、そのノードのすべてのオブジェクトメタデータの一部に対して十分なスペースを確保する必要があります。

* 少なくとも 4TB をボリューム 0 に割り当てる必要があります。
+

NOTE: ストレージノードでストレージボリュームを1つだけ使用していて、そのボリュームに4TB以下を割り当てると、ストレージノードが起動時にストレージ読み取り専用状態になり、オブジェクトメタデータのみが格納される可能性があります。

+

NOTE: ボリューム0への割り当てが500GB未満の場合（非本番環境での使用のみ）は、ストレージボリュームの容量の10%がメタデータ用にリザーブされます。

* 新しいシステム（StorageGRID 11.6以降）をインストールし、各ストレージノードに128GB以上のRAMがある場合は、8TB以上をボリューム0に割り当てます。ボリューム 0 に大きな値を設定すると、各ストレージノードでメタデータに使用できるスペースが増加する可能性があります。
* サイトに複数のストレージノードを設定する場合は、可能であればボリューム 0 にも同じ設定を使用します。サイトにサイズが異なるストレージノードがある場合、ボリューム 0 が最も小さいストレージノードがそのサイトのメタデータ容量を決定します。


詳細については、を参照してくださいlink:../admin/managing-object-metadata-storage.html["オブジェクトメタデータストレージを管理する"]。
